<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.9.1">
  <compounddef id="segments_8py" kind="file" language="Python">
    <compoundname>segments.py</compoundname>
    <innerclass refid="classsegments_1_1_segment" prot="public">segments::Segment</innerclass>
    <innerclass refid="classsegments_1_1_line" prot="public">segments::Line</innerclass>
    <innerclass refid="classsegments_1_1_arc" prot="public">segments::Arc</innerclass>
    <innerclass refid="classsegments_1_1_quad" prot="public">segments::Quad</innerclass>
    <innerclass refid="classsegments_1_1_cubic" prot="public">segments::Cubic</innerclass>
    <innernamespace refid="namespacesegments">segments</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacesegments" refkind="compound"><highlight class="keyword">import</highlight><highlight class="normal"><sp/>math</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>minivec<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>*</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesegments_1a109c96d9960dbce186b64a98c3066a1c" kindref="member">V</ref>(x=False,y=False,z=False):</highlight></codeline>
<codeline lineno="5"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>x==</highlight><highlight class="keyword">False</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="6"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x=0</highlight></codeline>
<codeline lineno="7"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>y==</highlight><highlight class="keyword">False</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y=</highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>z==</highlight><highlight class="keyword">False</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z=</highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classminivec_1_1minivec_1_1_vec" kindref="compound">Vec</ref>(x,y,z)</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesegments_1ae4847a0facad069d53643d562fac656b" kindref="member">rotate</ref>(pos,<sp/>a):</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>type(pos)<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>Vec:</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>M=<ref refid="classminivec_1_1minivec_1_1_mat" kindref="compound">Mat</ref>(1).rotateAxis(a,<ref refid="namespacesegments_1a109c96d9960dbce186b64a98c3066a1c" kindref="member">V</ref>(0,0,-1))</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos=pos.transform(M)</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pos</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22" refid="classsegments_1_1_segment" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_segment" kindref="compound">Segment</ref>(object):</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/>seg_types<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_segment_1a1361eaaf9eaa73cb73d9201808842108" kindref="member">__init__</ref>(self):</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="comment">#<sp/>segment<sp/>type<sp/>can<sp/>be<sp/>line,<sp/>arc,<sp/>bezier</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_segment_1adcbfe80739fb05b3e68920b7139219e7" kindref="member">seg_type</ref>=</highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_segment_1a22b1c733c65857a39bcedbc86654d4a0" kindref="member">gcode</ref>(self,direction=True):</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{}</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_segment_1a8b156fa2dcd4f93f6d781d820b931da4" kindref="member">start</ref>(self):</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{}<sp/></highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_segment_1ad755cb568f5a00ba72459d41721a652e" kindref="member">out</ref>(self,direction,<sp/>mode=&apos;svg&apos;,<sp/>zfrom=False,<sp/>zto=False):</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mode==</highlight><highlight class="stringliteral">&apos;svg&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsegments_1_1_segment_1a1b1ebb51664cb1aa198e6dd5a37520ba" kindref="member">svg</ref>(direction)</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>mode==</highlight><highlight class="stringliteral">&apos;gcode&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp=self.<ref refid="classsegments_1_1_segment_1a22b1c733c65857a39bcedbc86654d4a0" kindref="member">gcode</ref>(direction)</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(temp)&gt;0<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>zfrom!=zto:</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp[0][</highlight><highlight class="stringliteral">&apos;Z&apos;</highlight><highlight class="normal">]=zto</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>temp</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>mode==</highlight><highlight class="stringliteral">&apos;simplegcode&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>mode==</highlight><highlight class="stringliteral">&apos;scr&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp=self.<ref refid="classsegments_1_1_segment_1a7a8dd4167be305d3adbc27ffa3a41ff1" kindref="member">simplegcode</ref>(zfrom,<sp/>zto,<sp/>direction)</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>temp</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsegments_1_1_segment_1acaccd5af98d8073bdad79805908fefe4" kindref="member">seg_types</ref>[mode](direction)</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>mode==&apos;gcode&apos;:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp=self.gcode(direction)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>len(temp)&gt;0<sp/>and<sp/>zfrom!=zto:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp[0][&apos;Z&apos;]=zto</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>temp</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elif<sp/>mode==&apos;simplegcode&apos;<sp/>or<sp/>mode==&apos;scr&apos;:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp=self.simplegcode(zfrom,<sp/>zto,<sp/>direction)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>temp</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>else:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>self.seg_types[mode](direction)<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_segment_1a1b1ebb51664cb1aa198e6dd5a37520ba" kindref="member">svg</ref>(self):</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{}</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_segment_1ae8a07de4e87b72e7f915866647c577b8" kindref="member">polygon</ref>(self):</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[]</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="comment">#<sp/>render<sp/>the<sp/>segment<sp/>in<sp/>straight<sp/>lines</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_segment_1a7a8dd4167be305d3adbc27ffa3a41ff1" kindref="member">simplegcode</ref>(self,<sp/>zfrom,<sp/>zto,<sp/>direction):</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret=[]</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>polygon=self.<ref refid="classsegments_1_1_segment_1ae8a07de4e87b72e7f915866647c577b8" kindref="member">polygon</ref>(1,direction)</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>zfrom!=zto:</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>step=(zto-zfrom)/len(polygon)</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z=zfrom</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z=0</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>step=0</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>polygon:</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>step!=0:</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z+=step</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret.append({</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;G1&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">:p[0],</highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">:p[1],</highlight><highlight class="stringliteral">&quot;Z&quot;</highlight><highlight class="normal">:z})</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret.append({</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;G1&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">:p[0],</highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">:p[1]})</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76" refid="classsegments_1_1_line" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_line" kindref="compound">Line</ref>(<ref refid="classsegments_1_1_segment" kindref="compound">Segment</ref>):</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_line_1a62e5d7c179e16a06e08b5d80fc3355eb" kindref="member">__init__</ref>(self,<sp/>cutfrom,<sp/>cutto):</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_segment_1adcbfe80739fb05b3e68920b7139219e7" kindref="member">seg_type</ref>=</highlight><highlight class="stringliteral">&apos;line&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_line_1aad74ac6b6db34eb6c1405584d92fe66e" kindref="member">cutto</ref>=cutto</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_line_1ab2b16d59351a9749a5061a01e19f96dc" kindref="member">cutfrom</ref>=cutfrom</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_line_1ab11c4c3e05f163d8b8b4866113ca36b0" kindref="member">gcode</ref>(self,direction=True):</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(direction):</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;G1&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_line_1aad74ac6b6db34eb6c1405584d92fe66e" kindref="member">cutto</ref>[0],</highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_line_1aad74ac6b6db34eb6c1405584d92fe66e" kindref="member">cutto</ref>[1]}]</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;G1&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_line_1ab2b16d59351a9749a5061a01e19f96dc" kindref="member">cutfrom</ref>[0],</highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_line_1ab2b16d59351a9749a5061a01e19f96dc" kindref="member">cutfrom</ref>[1]}]</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_line_1a9e4708f2a4b61ff8433d70d638f134a6" kindref="member">svg</ref>(self,direction=True):</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(direction):</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;L&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_line_1aad74ac6b6db34eb6c1405584d92fe66e" kindref="member">cutto</ref>[0],</highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_line_1aad74ac6b6db34eb6c1405584d92fe66e" kindref="member">cutto</ref>[1]}]</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;L&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_line_1ab2b16d59351a9749a5061a01e19f96dc" kindref="member">cutfrom</ref>[0],</highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_line_1ab2b16d59351a9749a5061a01e19f96dc" kindref="member">cutfrom</ref>[1]}]</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_line_1ad7bc5ee97b9b70253b6c403f8d0dfff9" kindref="member">polygon</ref>(self,<sp/>resolution=1,<sp/>direction=1):</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[self.<ref refid="classsegments_1_1_line_1aad74ac6b6db34eb6c1405584d92fe66e" kindref="member">cutto</ref>]</highlight></codeline>
<codeline lineno="93" refid="classsegments_1_1_arc" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_arc" kindref="compound">Arc</ref>(<ref refid="classsegments_1_1_segment" kindref="compound">Segment</ref>):</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_arc_1a08eec2d7f6ed97eefcdc0d41152dc057" kindref="member">__init__</ref>(self,<sp/>cutfrom,<sp/>cutto,centre,direction,<sp/>mode=&apos;abs&apos;):</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_segment_1adcbfe80739fb05b3e68920b7139219e7" kindref="member">seg_type</ref>=</highlight><highlight class="stringliteral">&apos;arc&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>=cutto</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>=cutfrom</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_arc_1a933f083c2aa6751f5924f810eb8ae060" kindref="member">direction</ref>=direction</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mode==</highlight><highlight class="stringliteral">&apos;abs&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>=centre</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>=cutfrom+centre</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_arc_1ab622cf97665a7232a67c3ca0daed782e" kindref="member">gcode</ref>(self,direction=True):</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>-self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>).length()==0:</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>Warning(<sp/></highlight><highlight class="stringliteral">&quot;Arc<sp/>of<sp/>zero<sp/>length&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[]</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(</highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>direction):</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsegments_1_1_arc_1a933f083c2aa6751f5924f810eb8ae060" kindref="member">direction</ref>==</highlight><highlight class="stringliteral">&apos;cw&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;G2&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>[0],</highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>[1],<sp/></highlight><highlight class="stringliteral">&quot;I&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>[0]-self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>[0],<sp/></highlight><highlight class="stringliteral">&quot;J&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>[1]-self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>[1]}]</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;G3&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>[0],</highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>[1],<sp/></highlight><highlight class="stringliteral">&quot;I&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>[0]-self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>[0],<sp/></highlight><highlight class="stringliteral">&quot;J&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>[1]-self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>[1]}]</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsegments_1_1_arc_1a933f083c2aa6751f5924f810eb8ae060" kindref="member">direction</ref>==</highlight><highlight class="stringliteral">&apos;cw&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;G3&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>[0],</highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>[1],<sp/></highlight><highlight class="stringliteral">&quot;I&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>[0]-self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>[0],<sp/></highlight><highlight class="stringliteral">&quot;J&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>[1]-self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>[1]}]</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;G2&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>[0],</highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>[1],<sp/></highlight><highlight class="stringliteral">&quot;I&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>[0]-self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>[0],<sp/></highlight><highlight class="stringliteral">&quot;J&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>[1]-self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>[1]}]</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_arc_1ad7afcfb937d2664dbb98f02dac056790" kindref="member">svg</ref>(self,direction=True):</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Find<sp/>if<sp/>the<sp/>arc<sp/>is<sp/>long<sp/>or<sp/>not</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tempcross=(self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>-self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>).<ref refid="namespacebezier_1a01a1f8683e5f9f801018e651c0de1abc" kindref="member">cross</ref>(self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>-self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t=tempcross[2]</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#if<sp/>(t&gt;0<sp/>and<sp/>direction==&apos;cw&apos;<sp/>or<sp/>t&lt;0<sp/>and<sp/>direction==&apos;ccw&apos;)!=(self.direction==&apos;cw&apos;):</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(t&gt;0<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classsegments_1_1_arc_1a933f083c2aa6751f5924f810eb8ae060" kindref="member">direction</ref>==</highlight><highlight class="stringliteral">&apos;ccw&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>t&lt;0<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classsegments_1_1_arc_1a933f083c2aa6751f5924f810eb8ae060" kindref="member">direction</ref>==</highlight><highlight class="stringliteral">&apos;cw&apos;</highlight><highlight class="normal">):</highlight><highlight class="comment">#!=(self.direction==&apos;cw&apos;):</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(t&lt;0):</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>longflag=</highlight><highlight class="stringliteral">&quot;0&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>longflag=</highlight><highlight class="stringliteral">&quot;1&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r=(self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>-self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>).length()</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsegments_1_1_arc_1a933f083c2aa6751f5924f810eb8ae060" kindref="member">direction</ref>==</highlight><highlight class="stringliteral">&apos;cw&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dirflag=1</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dirflag=0</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(direction):</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;A&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;rx&quot;</highlight><highlight class="normal">:r,</highlight><highlight class="stringliteral">&quot;ry&quot;</highlight><highlight class="normal">:r,</highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>[0],</highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>[1],<sp/></highlight><highlight class="stringliteral">&apos;_lf&apos;</highlight><highlight class="normal">:longflag,</highlight><highlight class="stringliteral">&apos;_rot&apos;</highlight><highlight class="normal">:0,</highlight><highlight class="stringliteral">&apos;_dir&apos;</highlight><highlight class="normal">:dirflag}]</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>[{&apos;cmd&apos;:&apos;L&apos;,&quot;x&quot;:self.centre[0],&quot;y&quot;:self.centre[1]},{&apos;cmd&apos;:&apos;L&apos;,&quot;x&quot;:self.cutfrom[0],&quot;y&quot;:self.cutfrom[1]},{&quot;cmd&quot;:&quot;A&quot;,&quot;rx&quot;:r,&quot;ry&quot;:r,&quot;x&quot;:self.cutto[0],&quot;y&quot;:self.cutto[1],<sp/>&apos;_lf&apos;:longflag,&apos;_rot&apos;:0,&apos;_dir&apos;:dirflag}]<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;A&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;rx&quot;</highlight><highlight class="normal">:r,</highlight><highlight class="stringliteral">&quot;ry&quot;</highlight><highlight class="normal">:r,</highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>[0],</highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref>[1],<sp/></highlight><highlight class="stringliteral">&apos;_lf&apos;</highlight><highlight class="normal">:longflag,</highlight><highlight class="stringliteral">&apos;_rot&apos;</highlight><highlight class="normal">:0,</highlight><highlight class="stringliteral">&apos;_dir&apos;</highlight><highlight class="normal">:dirflag}]</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>[{&apos;cmd&apos;:&apos;L&apos;,&quot;x&quot;:self.centre[0],&quot;y&quot;:self.centre[1]},{&apos;cmd&apos;:&apos;L&apos;,&quot;x&quot;:self.cutto[0],&quot;y&quot;:self.cutto[1]},{&quot;cmd&quot;:&quot;A&quot;,&quot;rx&quot;:r,&quot;ry&quot;:r,&quot;x&quot;:self.cutfrom[0],&quot;y&quot;:self.cutfrom[1],<sp/>&apos;_lf&apos;:longflag,&apos;_rot&apos;:0,&apos;_dir&apos;:dirflag}]<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_arc_1a19112ea291604037ab68f3892ef499d9" kindref="member">polygon</ref>(self,resolution=1,<sp/>direction=1):</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>direction:</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cutfrom=self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cutto=self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cutfrom=self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cutto=self.<ref refid="classsegments_1_1_arc_1a387ceb50f0a06ce24bf80d7984cff84e" kindref="member">cutfrom</ref></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>cutfrom-self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r2<sp/>=<sp/>cutto-self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>r1.length()==0<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>r2.length()==0:</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[]</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dtheta<sp/>=<sp/>math.atan(resolution/r1.length())/math.pi*180</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>dtheta&gt;45:</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dtheta=45</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsegments_1_1_arc_1a933f083c2aa6751f5924f810eb8ae060" kindref="member">direction</ref>==</highlight><highlight class="stringliteral">&apos;cw&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dtheta=-dtheta</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>direction:</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dtheta=-dtheta</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r=r1</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>thetasum=0</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hasrisen=0</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dot=r.dot(r2)</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>points=[]</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>thetasum&lt;360:</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r=<ref refid="namespacesegments_1ae4847a0facad069d53643d562fac656b" kindref="member">rotate</ref>(r,dtheta)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newdot=r.dot(r2)</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>newdot&gt;dot:</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hasrisen=1</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>hasrisen<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>newdot&lt;dot:</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>points.append(cutto)</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>points.append(self.<ref refid="classsegments_1_1_arc_1a7e382975126df937ab515c621259aca4" kindref="member">centre</ref>+r)</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>thetasum+=dtheta</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dot=newdot</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>thetasum&gt;360:</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[self.<ref refid="classsegments_1_1_arc_1aeeb31eaddd0bacd72f18c68fdada8380" kindref="member">cutto</ref>]</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>points</highlight></codeline>
<codeline lineno="176" refid="classsegments_1_1_quad" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_quad" kindref="compound">Quad</ref>(<ref refid="classsegments_1_1_segment" kindref="compound">Segment</ref>):</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_quad_1a3ed922539b916867e3248c11553f1373" kindref="member">__init__</ref>(self,<sp/>cutfrom,<sp/>cutto,<sp/>cp):</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_segment_1adcbfe80739fb05b3e68920b7139219e7" kindref="member">seg_type</ref>=</highlight><highlight class="stringliteral">&apos;quad&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_quad_1ad166ba20f4e5779d9ad8ec66258799b2" kindref="member">cutto</ref>=cutto</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_quad_1a8ffff4e377db1600730a73f8ef4c9fe1" kindref="member">cutfrom</ref>=cutfrom</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_quad_1aa240fcc6e8f664bdf01efe2e507b27be" kindref="member">cp</ref>=cp</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_quad_1ab93f4537c7d8a1757b1629ba0fbae831" kindref="member">gcode</ref>(direction=True):</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(direction):</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offset<sp/>=<sp/>cp<sp/>-<sp/>self.<ref refid="classsegments_1_1_quad_1a8ffff4e377db1600730a73f8ef4c9fe1" kindref="member">cutfrom</ref></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;G5.1&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_quad_1ad166ba20f4e5779d9ad8ec66258799b2" kindref="member">cutto</ref>[0],<sp/></highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_quad_1ad166ba20f4e5779d9ad8ec66258799b2" kindref="member">cutto</ref>[1],<sp/></highlight><highlight class="stringliteral">&quot;I&quot;</highlight><highlight class="normal">:offset[0],<sp/></highlight><highlight class="stringliteral">&quot;J&quot;</highlight><highlight class="normal">:offset[1]}]</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offset<sp/>=<sp/>cp<sp/>-<sp/>self.<ref refid="classsegments_1_1_quad_1ad166ba20f4e5779d9ad8ec66258799b2" kindref="member">cutto</ref></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;G5.1&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_quad_1a8ffff4e377db1600730a73f8ef4c9fe1" kindref="member">cutfrom</ref>[0],<sp/></highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_quad_1a8ffff4e377db1600730a73f8ef4c9fe1" kindref="member">cutfrom</ref>[1],<sp/></highlight><highlight class="stringliteral">&quot;I&quot;</highlight><highlight class="normal">:offset[0],<sp/></highlight><highlight class="stringliteral">&quot;J&quot;</highlight><highlight class="normal">:offset[1]}]</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_quad_1a556ff70ecf9d172781370a234e0ebcad" kindref="member">svg</ref>(direction<sp/>=<sp/>True):</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(direction):</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offset<sp/>=<sp/>cp<sp/>-<sp/>self.<ref refid="classsegments_1_1_quad_1a8ffff4e377db1600730a73f8ef4c9fe1" kindref="member">cutfrom</ref></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;Q&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;x1&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_quad_1ad166ba20f4e5779d9ad8ec66258799b2" kindref="member">cutto</ref>[0],<sp/></highlight><highlight class="stringliteral">&quot;y1&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_quad_1ad166ba20f4e5779d9ad8ec66258799b2" kindref="member">cutto</ref>[1],<sp/></highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">:offset[0],<sp/></highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">:offset[1]}]</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offset<sp/>=<sp/>cp<sp/>-<sp/>self.<ref refid="classsegments_1_1_quad_1ad166ba20f4e5779d9ad8ec66258799b2" kindref="member">cutto</ref></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;Q&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;x1&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_quad_1a8ffff4e377db1600730a73f8ef4c9fe1" kindref="member">cutfrom</ref>[0],<sp/></highlight><highlight class="stringliteral">&quot;y1&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_quad_1a8ffff4e377db1600730a73f8ef4c9fe1" kindref="member">cutfrom</ref>[1],<sp/></highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">:offset[0],<sp/></highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">:offset[1]}]</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_quad_1ac06297d8460988688d9d6f094dc1ec2e" kindref="member">polygon</ref>(self,resolution=1,<sp/>direction=1):</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p0=self.<ref refid="classsegments_1_1_quad_1a8ffff4e377db1600730a73f8ef4c9fe1" kindref="member">cutfrom</ref></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p1=self.cp1</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p2=self.<ref refid="classsegments_1_1_quad_1ad166ba20f4e5779d9ad8ec66258799b2" kindref="member">cutto</ref></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret=[]</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numsteps<sp/>=<sp/>((p2-p1).length()+(p1-p0).length())/resolution</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>step<sp/>=<sp/>1/numsteps</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range[1:numsteps-1]:</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t=i*step</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret.append((1-t)*(1-t)*p0<sp/>+<sp/>2*(1-t)*t*p1<sp/>+<sp/>t*t*p2<sp/>)</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209" refid="classsegments_1_1_cubic" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_cubic" kindref="compound">Cubic</ref>(<ref refid="classsegments_1_1_segment" kindref="compound">Segment</ref>):</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_cubic_1ad74bc1090ec38e60e2fcc07d1d0964e3" kindref="member">__init__</ref>(self,<sp/>cutfrom,<sp/>cutto,<sp/>cp1,<sp/>cp2):</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_segment_1adcbfe80739fb05b3e68920b7139219e7" kindref="member">seg_type</ref>=</highlight><highlight class="stringliteral">&apos;cubic&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_cubic_1a2a6bbe67c22dca2202ee9abbee280275" kindref="member">cutto</ref>=cutto</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_cubic_1aba3e470c7944341886bac2f751d7794a" kindref="member">cutfrom</ref>=cutfrom</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_cubic_1abba7183f1a5e759358ec3a9e0f4e5b71" kindref="member">cp1</ref>=cp1</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsegments_1_1_cubic_1ae8e4d11a0e2c1dde141ea4b962da4e58" kindref="member">cp2</ref>=cp2</highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_cubic_1a506ce3ee174658e31aaa7017f9a709ba" kindref="member">gcode</ref>(direction=True):</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(direction):</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offset1<sp/>=<sp/>cp1<sp/>-<sp/>self.<ref refid="classsegments_1_1_cubic_1aba3e470c7944341886bac2f751d7794a" kindref="member">cutfrom</ref></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offset2<sp/>=<sp/>cp2<sp/>-<sp/>self.<ref refid="classsegments_1_1_cubic_1aba3e470c7944341886bac2f751d7794a" kindref="member">cutfrom</ref></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;G5&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_cubic_1a2a6bbe67c22dca2202ee9abbee280275" kindref="member">cutto</ref>[0],<sp/></highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_cubic_1a2a6bbe67c22dca2202ee9abbee280275" kindref="member">cutto</ref>[1],<sp/></highlight><highlight class="stringliteral">&quot;I&quot;</highlight><highlight class="normal">:offset1[0],<sp/></highlight><highlight class="stringliteral">&quot;J&quot;</highlight><highlight class="normal">:offset1[1],<sp/></highlight><highlight class="stringliteral">&quot;P&quot;</highlight><highlight class="normal">:offset2[0],<sp/></highlight><highlight class="stringliteral">&quot;Q&quot;</highlight><highlight class="normal">:offset2[1]}]</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offset1<sp/>=<sp/>cp2<sp/>-<sp/>self.<ref refid="classsegments_1_1_cubic_1a2a6bbe67c22dca2202ee9abbee280275" kindref="member">cutto</ref></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offset2<sp/>=<sp/>cp1<sp/>-<sp/>self.<ref refid="classsegments_1_1_cubic_1a2a6bbe67c22dca2202ee9abbee280275" kindref="member">cutto</ref></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;G5&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_cubic_1aba3e470c7944341886bac2f751d7794a" kindref="member">cutfrom</ref>[0],<sp/></highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_cubic_1aba3e470c7944341886bac2f751d7794a" kindref="member">cutfrom</ref>[1],<sp/></highlight><highlight class="stringliteral">&quot;I&quot;</highlight><highlight class="normal">:offset1[0],<sp/></highlight><highlight class="stringliteral">&quot;J&quot;</highlight><highlight class="normal">:offset1[1],<sp/></highlight><highlight class="stringliteral">&quot;P&quot;</highlight><highlight class="normal">:offset2[0],<sp/></highlight><highlight class="stringliteral">&quot;Q&quot;</highlight><highlight class="normal">:offset2[1]}]</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_cubic_1a2ee85018d2135912cfcca040b0a79118" kindref="member">svg</ref>(direction<sp/>=<sp/>True):</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if(direction):</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;Q&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;x2&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_cubic_1a2a6bbe67c22dca2202ee9abbee280275" kindref="member">cutto</ref>[0],<sp/></highlight><highlight class="stringliteral">&quot;y2&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_cubic_1a2a6bbe67c22dca2202ee9abbee280275" kindref="member">cutto</ref>[1],<sp/></highlight><highlight class="stringliteral">&quot;x1&quot;</highlight><highlight class="normal">:cp1[0],<sp/></highlight><highlight class="stringliteral">&quot;y1&quot;</highlight><highlight class="normal">:cp1[1],<sp/></highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">:cp2[0],<sp/></highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">:cp2[1]}]</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[{</highlight><highlight class="stringliteral">&quot;cmd&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;Q&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;x2&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_cubic_1aba3e470c7944341886bac2f751d7794a" kindref="member">cutfrom</ref>[0],<sp/></highlight><highlight class="stringliteral">&quot;y2&quot;</highlight><highlight class="normal">:self.<ref refid="classsegments_1_1_cubic_1aba3e470c7944341886bac2f751d7794a" kindref="member">cutfrom</ref>[1],<sp/></highlight><highlight class="stringliteral">&quot;x1&quot;</highlight><highlight class="normal">:cp2[0],<sp/></highlight><highlight class="stringliteral">&quot;y1&quot;</highlight><highlight class="normal">:cp2[1],<sp/></highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">:cp1[0],<sp/></highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">:cp1[1]}]</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsegments_1_1_cubic_1a2986509367f3c24a34bd9b8078ca0dcd" kindref="member">polygon</ref>(self,resolution=1,<sp/>direction=1):</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p0=self.<ref refid="classsegments_1_1_cubic_1aba3e470c7944341886bac2f751d7794a" kindref="member">cutfrom</ref></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p1=self.<ref refid="classsegments_1_1_cubic_1abba7183f1a5e759358ec3a9e0f4e5b71" kindref="member">cp1</ref></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p2=self.<ref refid="classsegments_1_1_cubic_1ae8e4d11a0e2c1dde141ea4b962da4e58" kindref="member">cp2</ref></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p3=self.<ref refid="classsegments_1_1_cubic_1a2a6bbe67c22dca2202ee9abbee280275" kindref="member">cutto</ref></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret=[]</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numsteps<sp/>=<sp/>((p3-p2).length()+(p2-p1).length()+(p1-p0).length())/resolution</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>step<sp/>=<sp/>1/numsteps</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range[1:numsteps-1]:</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t=i*step</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret.append((1-t)*(1-t)*(1-t)*p0<sp/>+<sp/>3*(1-t)*(1-t)*t*p1<sp/>+<sp/>3*(1-t)*t*t<sp/>+<sp/><sp/>t*t*t*p3<sp/>)</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/home/db/camcam/segments.py"/>
  </compounddef>
</doxygen>
